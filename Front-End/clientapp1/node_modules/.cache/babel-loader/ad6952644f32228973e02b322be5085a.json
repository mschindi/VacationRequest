{"ast":null,"code":"var _jsxFileName = \"/Users/michaelschindezow/projects/VacationRequest/Front-End/clientapp/src/pages/user/User.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport \"./user.css\";\nimport { CalendarToday, ControlPointSharp, LocationSearching, MailOutline, PermIdentity, PhoneAndroid, Publish } from \"@mui/icons-material\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport userCRUDService from \"../../services/UserService\";\nimport { DateTime } from \"luxon\";\nimport UpdateUserPopup from \"../Popup/UpdateUserPopup\"; // A custom hook that builds on useLocation to parse\n// the query string for you.\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction useQuery() {\n  _s();\n\n  console.log(useLocation());\n  return new URLSearchParams(useLocation().search);\n}\n\n_s(useQuery, \"3NQ4LKOwDNltsfk/kDnoHNpiKEk=\", false, function () {\n  return [useLocation, useLocation];\n});\n\nexport default function User() {\n  _s2();\n\n  const {\n    openPopup,\n    setOpenPopup\n  } = useState(false);\n  let query = useQuery(); // const getUserbyId = window.location.pathname.slice(6,7);\n  // console.log(getUserbyId);\n  // var currentURL = useLocation();\n  // var getUserId = new URLSearchParams(currentURL);\n  // var currentUserId= getUserId.get(\"id\"); \n  // console.log(query.get(\"id\"));\n  // console.log(query.toString());\n  // console.log(currentURL);\n\n  const [user, setUser] = useState({\n    id: 0,\n    username: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    address: \"\",\n    email: \"\",\n    avatar: \"\"\n  });\n  const [initialUser, setInitialUser] = useState({\n    id: 0,\n    username: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    address: \"\",\n    email: \"\",\n    avatar: \"\"\n  });\n  useEffect(() => {\n    // userCRUDService.getUsers().then((users) => {\n    //   setData(users);\n    // });\n    async function fetchData() {\n      const request = await userCRUDService.getUserById(query.get(\"id\"));\n      setUser(request.data);\n      setInitialUser(request.data);\n      console.log(\"------------SERVER USER-------------\");\n      console.log(request.data);\n      console.log(\"------------INITIAL USER-------------\");\n      console.log(initialUser);\n    }\n\n    fetchData();\n  }, []);\n  var userBirthday = DateTime.fromISO(user.birthday).toLocaleString(); //   var userBirthday = DateTime.fromISO(user.birthday, {zone: 'utc'});\n\n  console.log(userBirthday);\n\n  async function handleUpdate(event) {\n    event.preventDefault(); // setUser(user.filter((item)=>item.id !== id));\n    // user.birthday = DateTime(user.birthday).toHttp();\n\n    await userCRUDService.updateUsers(user);\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userTitleContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"userTitle\",\n        children: \"Edit User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/newUser\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"userAddButton\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userShow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userShowTop\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar,\n            alt: \"\",\n            className: \"userShowImg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowTopTitle\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowUsername\",\n              children: [user.firstName, \" \", user.lastName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowUserTitle\",\n              children: user.jobTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userShowBottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"userShowTitle\",\n            children: \"Account Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowInfo\",\n            children: [/*#__PURE__*/_jsxDEV(PermIdentity, {\n              className: \"userShowIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowInfoTitle\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowInfo\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarToday, {\n              className: \"userShowIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowInfoTitle\",\n              children: userBirthday\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"userShowTitle\",\n            children: \"Contact Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowInfo\",\n            children: [/*#__PURE__*/_jsxDEV(PhoneAndroid, {\n              className: \"userShowIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowInfoTitle\",\n              children: user.phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowInfo\",\n            children: [/*#__PURE__*/_jsxDEV(MailOutline, {\n              className: \"userShowIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowInfoTitle\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowInfo\",\n            children: [/*#__PURE__*/_jsxDEV(LocationSearching, {\n              className: \"userShowIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowInfoTitle\",\n              children: user.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userUpdate\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"userUpdateTitle\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"userUpdateForm\",\n          onSubmit: () => setOpenPopup(true),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userUpdateLeft\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: user.username,\n                className: \"userUpdateInput\",\n                value: user.username == initialUser.username ? '' : user.username,\n                onChange: e => setUser({ ...user,\n                  username: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"First Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: user.firstName,\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: user.lastName,\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Job Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: user.jobTitle,\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                placeholder: user.email,\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                placeholder: user.phoneNumber,\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Adress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: user.address,\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Birthday\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: userBirthday,\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userUpdateRight\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateUpload\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"userUpdateImg\",\n                src: user.avatar,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file\",\n                children: /*#__PURE__*/_jsxDEV(Publish, {\n                  className: \"userUpdateIcon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 55\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"file\",\n                style: {\n                  display: \"none\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              className: \"userUpdateButton\",\n              value: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Controls, {\n              onClick: () => setOpenPopup(true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(UpdateUserPopup, {\n      openPopup: openPopup,\n      setOpenPopup: setOpenPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(User, \"eXIsNIJLy6ApTTLYgEy+wKzTPJg=\", false, function () {\n  return [useQuery];\n});\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["/Users/michaelschindezow/projects/VacationRequest/Front-End/clientapp/src/pages/user/User.jsx"],"names":["CalendarToday","ControlPointSharp","LocationSearching","MailOutline","PermIdentity","PhoneAndroid","Publish","Link","useLocation","useEffect","useState","userCRUDService","DateTime","UpdateUserPopup","useQuery","console","log","URLSearchParams","search","User","openPopup","setOpenPopup","query","user","setUser","id","username","firstName","lastName","address","email","avatar","initialUser","setInitialUser","fetchData","request","getUserById","get","data","userBirthday","fromISO","birthday","toLocaleString","handleUpdate","event","preventDefault","updateUsers","jobTitle","phoneNumber","e","target","value","display"],"mappings":"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","sourcesContent":["import \"./user.css\"\nimport { CalendarToday, ControlPointSharp, LocationSearching, MailOutline, PermIdentity, PhoneAndroid, Publish } from \"@mui/icons-material\" \nimport { Link } from \"react-router-dom\"\nimport { useLocation } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport userCRUDService from \"../../services/UserService\";\nimport { DateTime } from \"luxon\";\nimport UpdateUserPopup from \"../Popup/UpdateUserPopup\";\n\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nfunction useQuery() {\n    console.log(useLocation());\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function User() {\n\n    const {openPopup, setOpenPopup} = useState(false);\n\n    let query = useQuery();\n    // const getUserbyId = window.location.pathname.slice(6,7);\n    // console.log(getUserbyId);\n\n    // var currentURL = useLocation();\n    // var getUserId = new URLSearchParams(currentURL);\n    // var currentUserId= getUserId.get(\"id\"); \n    // console.log(query.get(\"id\"));\n    // console.log(query.toString());\n    // console.log(currentURL);\n    \n    const [user,setUser] = useState(\n        {\n            id: 0,\n            username: \"\",\n            firstName: \"\",\n            lastName: \"\",\n            address: \"\",\n            email: \"\",\n            avatar: \"\",\n          }\n    );\n\n    const [initialUser, setInitialUser] = useState({\n        id: 0,\n        username: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        address: \"\",\n        email: \"\",\n        avatar: \"\",\n      });\n\n    useEffect(() => {\n        // userCRUDService.getUsers().then((users) => {\n        //   setData(users);\n        // });\n        async function fetchData() {\n          const request = await userCRUDService.getUserById(query.get(\"id\"));\n          setUser(request.data);\n          setInitialUser(request.data);\n          console.log(\"------------SERVER USER-------------\")\n          console.log(request.data);\n          console.log(\"------------INITIAL USER-------------\")\n          console.log(initialUser);\n      }\n      fetchData();\n\n      }, []);\n\n      var userBirthday = DateTime.fromISO(user.birthday).toLocaleString();\n    //   var userBirthday = DateTime.fromISO(user.birthday, {zone: 'utc'});\n      console.log(userBirthday);\n\n\n      async function handleUpdate (event) {\n        event.preventDefault();\n        // setUser(user.filter((item)=>item.id !== id));\n        // user.birthday = DateTime(user.birthday).toHttp();\n        await userCRUDService.updateUsers(user);\n      };\n\n    return (\n        <div className=\"user\">\n            <div className=\"userTitleContainer\">\n                <h1 className=\"userTitle\">Edit User</h1>\n                <Link to =\"/newUser\">\n                <button className=\"userAddButton\">Create</button>\n                </Link>\n            </div>\n            <div className=\"userContainer\">\n                <div className=\"userShow\">\n                    <div className=\"userShowTop\">\n                        <img src={user.avatar} alt=\"\" className=\"userShowImg\" />\n                        <div className=\"userShowTopTitle\">\n                            <span className=\"userShowUsername\">{user.firstName} {user.lastName}</span>\n                            <span className=\"userShowUserTitle\">{user.jobTitle}</span>\n                        </div>\n                    </div>\n                    <div className=\"userShowBottom\">\n                        <span className=\"userShowTitle\">Account Details</span>\n\n                        <div className=\"userShowInfo\">\n                            <PermIdentity className=\"userShowIcon\"/>\n                            <span className=\"userShowInfoTitle\">{user.username}</span>\n                        </div>\n                        <div className=\"userShowInfo\">\n                            <CalendarToday className=\"userShowIcon\"/>\n                            <span className=\"userShowInfoTitle\">{userBirthday}</span>\n                        </div>\n                        <span className=\"userShowTitle\">Contact Details</span>\n                        <div className=\"userShowInfo\">\n                            <PhoneAndroid className=\"userShowIcon\"/>\n                            <span className=\"userShowInfoTitle\">{user.phoneNumber}</span>\n                        </div>\n                        <div className=\"userShowInfo\">\n                            <MailOutline className=\"userShowIcon\"/>\n                            <span className=\"userShowInfoTitle\">{user.email}</span>\n                        </div>\n                        <div className=\"userShowInfo\">\n                            <LocationSearching className=\"userShowIcon\"/>\n                            <span className=\"userShowInfoTitle\">{user.address}</span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"userUpdate\">\n                    <span className=\"userUpdateTitle\">Edit</span>\n                    <form className=\"userUpdateForm\" onSubmit={() => setOpenPopup(true)}>\n                        <div className=\"userUpdateLeft\">\n                            <div className=\"userUpdateItem\">\n                                <label>Username</label>\n                                <input type=\"text\" placeholder={user.username} className=\"userUpdateInput\" value={user.username == initialUser.username ? '' : user.username} onChange={e => setUser({...user, username: e.target.value})}/>\n                            </div>\n                            <div className=\"userUpdateItem\">\n                                <label>First Name</label>\n                                <input type=\"text\" placeholder= {user.firstName} className=\"userUpdateInput\"/>\n                            </div>\n                            <div className=\"userUpdateItem\">\n                                <label>Last Name</label>\n                                <input type=\"text\" placeholder= {user.lastName} className=\"userUpdateInput\"/>\n                            </div>\n                            <div className=\"userUpdateItem\">\n                                <label>Job Title</label>\n                                <input type=\"text\" placeholder={user.jobTitle} className=\"userUpdateInput\"/>\n                            </div>\n                            <div className=\"userUpdateItem\">\n                                <label>Email</label>\n                                <input type=\"email\" placeholder={user.email} className=\"userUpdateInput\"/>\n                            </div>\n                            <div className=\"userUpdateItem\">\n                                <label>Phone</label>\n                                <input type=\"tel\" placeholder={user.phoneNumber} className=\"userUpdateInput\"/>\n                            </div>\n                            <div className=\"userUpdateItem\">\n                                <label>Adress</label>\n                                <input type=\"text\" placeholder={user.address} className=\"userUpdateInput\"/>\n                            </div>\n                            <div className=\"userUpdateItem\">\n                                <label>Birthday</label>\n                                <input type=\"text\" placeholder={userBirthday} className=\"userUpdateInput\"/>\n                            </div>\n                        </div>\n                        <div className=\"userUpdateRight\">\n                            <div className=\"userUpdateUpload\">\n                                <img className=\"userUpdateImg\" src={user.avatar} alt=\"\" />\n                                <label htmlFor=\"file\"><Publish className=\"userUpdateIcon\"/></label>\n                                <input type=\"file\" id=\"file\" style={{ display: \"none\" }}/>\n                            </div>\n                            <input type=\"submit\" className=\"userUpdateButton\" value=\"Update\"/>\n                            <Controls\n                            onClick={() => setOpenPopup(true)}/>\n                        </div>\n                    </form>\n                </div>\n            </div>\n            <UpdateUserPopup openPopup={openPopup} setOpenPopup={setOpenPopup}>\n\n            </UpdateUserPopup>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}